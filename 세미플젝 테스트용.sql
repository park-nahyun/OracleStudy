SET SERVEROUTPUT ON;

ALTER SESSION SET NLS_DATE_FORMAT = 'YYYY-MM-DD';
--ADMIN -- 1명만 입력되게 수정해야 함

EXEC PRC_ADMIN_INSERT('AAAA', '1234');
EXEC PRC_ADMIN_INSERT('AAAA', '123D4');
--==>> ORA-20012: 중복입력
EXEC PRC_ADMIN_INSERT('BBBB', '2343');
EXEC PRC_ADMIN_INSERT('CCCC', '234');
--==>> 프로시저는 되나 입력안됨(제약조건)

SELECT *
FROM ADMIN;
--==>>
/*
AD0001	AAAA	1234
AD0002	BBBB	2343
*/


EXEC PRC_ADMIN_UPDATE('AD0001', 'AAAA', '1234', '12S34');
--==>>
/*
AD0001	AAAA	12S34
AD0002	BBBB	2343

*/

EXEC PRC_ADMIN_UPDATE('AD0001', 'AAAA', '1234E', '12S3W');
--==>> ORA-20011: 비밀번호 틀림



EXEC PRC_ADMIN_DELETE('AD0001', 'AAAA', '12S34')
--==>> AD0002	BBBB	2343


---------------------------------------- 
EXEC PRC_COURSE_INSERT('개발자과정');
EXEC PRC_COURSE_INSERT('DBA과정');
--==>>
/*
C0001	개발자과정
C0002	DBA과정
*/


EXEC PRC_COURSE_UPDATE('C0001', '개발자양성');
--==>>
/*
C0001	개발자양성
C0002	DBA과정
*/
EXEC PRC_COURSE_UPDATE('C0004', '개발자양성');
--==>> 변화 없음

SELECT *
FROM COURSE;

------------------------------------------------------------------
EXEC PRC_SUBJECT(SO_DATE, SUBJ_NUM, CO_NUM, PROF_NUM, SO_START, SO_FINISH, PNT_NUM, BOOK_NUM, SO_EXAM, EXAM_DATE);

EXEC PRC_SUBJECT_OPENED_INSERT('2021-02-23', 'S0001', 'C0001', 'P0001', '2021-03-13', '2021-03-24', 'P0001', 'B0001', '중간고사', '2021-03-15');
EXEC PRC_ADMIN_UPDATE_PW('AAAA', '1234', '12');

SELECT *
FROM SUBJECT_OPENED;

-----------------------------------------------------------------------------
CREATE TABLE 테스트용
(
    컬럼  VARCHAR2(18)
);

INSERT INTO 테스트용(컬럼)
VALUES('SO'||TO_CHAR(SEQ_SUBJECT_OPENED.NEXTVAL));


SELECT *
FROM 테스트용;

ROLLBACK;


---------------------------------------------------------------------------------------------------------------------

--■2차 테스트(ADMIN 3개, COURSE 2개, SUBJECT 8개)

--◆2차 테스트를 위해 부모 테이블에 정보입력

--◆ADMIN 테이블
-- INSERT
EXEC PRC_ADMIN_INSERT('AAAA', '1234');
EXEC PRC_ADMIN_INSERT('BBBB', '12345');
--==>> PL/SQL 프로시저가 성공적으로 완료되었습니다.
/*
AD0001	AAAA	1234
AD0002	BBBB	12345
*/
EXEC PRC_ADMIN_INSERT('AAAA', '12343');
--==>> 에러발생 
/*
ORA-20012: 중복입력
ORA-06512: at "SCOTT.PRC_ADMIN_INSERT", line 65
ORA-06512: at line 1
*/

EXEC PRC_ADMIN_INSERT('BBB', '12343');
--==>> ORA-20008: 4~16자 입력 하세요

EXEC PRC_ADMIN_INSERT('BBBBB', '123');
--==>> PL/SQL 프로시저가 성공적으로 완료되었습니다. BUT 
-- ※ 예외처리 했는데 메시지가 왜 안뜰까?

EXEC PRC_ADMIN_UPDATE('AD0002', 'BBBB', '12345', '3456');
--==>> AD0002	BBBB	3456

EXEC PRC_ADMIN_DELETE('AD0002', 'BBBB', '3456');
--==>> AD0001	AAAA	1234
EXEC PRC_ADMIN_DELETE('AD0001', 'AAAA', '3456');
--==>>ORA-20011: 입력 정보 틀림

SELECT *
FROM ADMIN;



--◆ 교수, 학생, 배점, 강의실
INSERT INTO PROFESSOR VALUES('PF0001', SYSDATE, 'JAVA006$', '961031-1251611', SYSDATE);
INSERT INTO STUDENT VALUES('ST0001', '박정준', 'JAVA006$1', '961031-1251610', SYSDATE);
INSERT INTO POINTS VALUES('P0001', 30, 40, 30);
INSERT INTO CLASSROOM VALUES('R0001', '꽃님반');

SELECT *
FROM PROFESSOR;

SELECT *
FROM STUDENT;

SELECT *
FROM POINTS;

SELECT *
FROM CLASSROOM;

COMMIT;



--◆COURSE 테이블
EXEC PRC_COURSE_INSERT('개발자양성 과정');
EXEC PRC_COURSE_INSERT('기획자양성 과정');
--==>> PL/SQL 프로시저가 성공적으로 완료되었습니다.
--==>>
/*
C0001	개발자양성 과정
C0002	기획자양성 과정
*/

EXEC PRC_COURSE_INSERT('기획자');
--==>> ORA-20008: 4~16자 입력 하세요

EXEC PRC_COURSE_UPDATE('C0002', 'DBA양성 과정');
--==>>
/*
C0001	개발자양성 과정
C0002	DBA양성 과정
*/

EXEC PRC_COURSE_UPDATE('C0002', 'DBA');
--==>> ORA-20008: 4~16자 입력 하세요

SELECT *
FROM COURSE;

EXEC PRC_COURSE_DELETE('C0001');
EXEC PRC_COURSE_DELETE('C0005');
COMMIT;

--◆ 과목, 교재, 과정개설, 수강신청 입력
INSERT INTO SUBJECT VALUES('S0001', '파이썬');
INSERT INTO SUBJECT VALUES('S0002', '자바스크립트');
INSERT INTO TEXTBOOK VALUES('B0001', '자바의 정석', '도우 출판', '도우너');
INSERT INTO COURSE_OPENED VALUES('CO0001','C0001', SYSDATE, SYSDATE,'R0001', SYSDATE);
INSERT INTO COURSE_OPENED VALUES('CO0002','C0001', SYSDATE, SYSDATE,'R0001', SYSDATE);
INSERT INTO COURSE_OPENED VALUES('CO0003','C0001', '2021-06-01', '2021-06-30','R0001', SYSDATE);
INSERT INTO ENROLMENT VALUES('E0001','CO0001', 'ST0001', SYSDATE);

SELECT *
FROM COURSE_OPENED;
SELECT *
FROM TEXTBOOK;

COMMIT;

--◆SUBJECT OPENED 테이블
-- 입력프로시저(개설날짜, 과목번호, 과정번호, 교수번호, 시작날짜, 종료날짜, 배점번호, 책 번호, 시험내용, 시험날짜)
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE ,'S0001', 'CO0001', 'PF0001', SYSDATE, SYSDATE , 'P0001', 'B0001', '오라클 문제점 기술', SYSDATE);
--==>> 입력 성공~~!!
--==>>SO1046	21/04/16	S0001	CO0001	PF0001	21/04/16	21/04/16	P0001	B0001	오라클 문제점 기술	21/04/16
--==>> 시퀀스 초기화 필요 무~~~야~~~~호~~~~

EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE ,'S0001', 'CO0001', 'PF0001', '2021-03-21', SYSDATE , 'P0001', 'B0001', '오라클 문제점 기술', SYSDATE);
--==>> ORA-20009: 올바른 날짜 입력
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE ,'S0001', 'CO0001', 'PF0001', SYSDATE, '2021-03-21' , 'P0001', 'B0001', '오라클 문제점 기술', SYSDATE);
--==>> ORA-20009: 올바른 날짜 입력
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE ,'S0001', 'CO0001', 'PF0001', SYSDATE, SYSDATE , 'P0001', 'B0001', '오라클 문제점 기술', '2021-02-21');
--==>> ORA-20009: 올바른 날짜 입력
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE ,'S0001', 'CO0001', 'PF0001', SYSDATE, SYSDATE , 'P0001', 'B0001', '오라클 문제점 기술', '2021-07-21');
--==>> ORA-20009: 올바른 날짜 입력
COMMIT;

EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE ,'S0001', 'CO0001', 'PF0001', '2021-05-01', '2021-05-05' , 'P0001', 'B0001', '오라클 문제점 기술', '2021-05-03');

EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE ,'S0001', 'CO0001', 'PF0001', '2021-05-24', '2021-05-30' , 'P0001', 'B0001', '오라클 문제점 기술', '2021-05-25');
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE ,'S0001', 'CO0001', 'PF0001', '2021-03-21', SYSDATE , 'P0001', 'B0001', '오라클 문제점 기술', SYSDATE);
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE ,'S0001', 'CO0001', 'PF0001', '2021-03-21', SYSDATE , 'P0001', 'B0001', '오라클 문제점 기술', SYSDATE);
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE ,'S0001', 'CO0003', 'PF0001', '2021-06-01', '2021-07-30' , 'P0001', 'B0001', '오라클 문제점 기술', '2021-06-25');
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE ,'S0001', 'CO0003', 'PF0001', '2021-05-24', '2021-06-22' , 'P0001', 'B0001', '오라클 문제점 기술', '2021-05-25');
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE ,'S0001', 'CO0003', 'PF0001', '2021-06-02', '2021-06-22' , 'P0001', 'B0001', '오라클 문제점 기술', '2021-06-11');
SELECT *
FROM SUBJECT_OPENED;


-- 삭제 트리거 테스트
DELETE 
FROM COURSE
WHERE COUR_NUM = 'C0001';
--==>> 에러발생 ~ 참조되고 있습니다.

DELETE 
FROM COURSE
WHERE COUR_NUM = 'C0002';
--==>>
/*
C0001	개발자양성 과정
C0003	기획자양성 과정
*/


EXEC PRC_SO_DELETE('C0001');

-- 업데이트

-- 1. 과목번호 변경 PROC_SO_UPDATE(과목개설번호, 새로운 과목번호)
EXEC PRC_SO_UPDATE_SBJN('SO1046', 'S0003');
--==>> ORA-20018: 입력 정보가 데이터와 일치하지 않습니다.
EXEC PRC_SO_UPDATE_SBJN('SO1047', 'S0002');
--==>>
/*
SO1046	2021-04-16	S0001	CO0001	PF0001	2021-04-16	2021-04-16	P0001	B0001	오라클 문제점 기술	2021-04-16
SO1047	2021-04-16	S0002	CO0001	PF0001	2021-05-01	2021-05-05	P0001	B0001	오라클 문제점 기술	2021-05-03
*/


EXEC PRC_SO_UPDATE_SBJN('SO1047', 'S0001');
--==>>
/*
SO1046	2021-04-16	S0001	CO0001	PF0001	2021-04-16	2021-04-16	P0001	B0001	오라클 문제점 기술	2021-04-16
SO1047	2021-04-16	S0001	CO0001	PF0001	2021-05-01	2021-05-05	P0001	B0001	오라클 문제점 기술	2021-05-03
*/

ALTER SESSION SET NLS_DATE_FORMAT = 'YYYY-MM-DD';
ROLLBACK;
SELECT *
FROM SUBJECT;
SELECT *
FROM SUBJECT_OPENED;

EXEC PRC_SO_DELETE('SO1047');
EXEC PRC_SO_DELETE('SO1061');
----------------------------------

-- 2. 과정번호 변경하기 (개설과목번호, 새로운 과정번호)


SELECT *
FROM SUBJECT_OPENED;
--==>>
/*
SO1046	2021-04-16	S0001	CO0001	PF0001	2021-04-16	2021-04-16	P0001	B0001	오라클 문제점 기술	2021-04-16
SO1047	2021-04-16	S0001	CO0001	PF0001	2021-05-01	2021-05-05	P0001	B0001	오라클 문제점 기술	2021-05-03
*/

EXEC PRC_SO_UPDATE_CON('SO1047','CO0003');
--==>> ORA-20018: 입력 정보가 데이터와 일치하지 않습니다.
EXEC PRC_SO_UPDATE_CON('SO1047','CO0002');
--==>>
/*
SO1046	2021-04-16	S0001	CO0001	PF0001	2021-04-16	2021-04-16	P0001	B0001	오라클 문제점 기술	2021-04-16
SO1047	2021-04-16	S0001	CO0002	PF0001	2021-05-01	2021-05-05	P0001	B0001	오라클 문제점 기술	2021-05-03
*/


-- 7. 시험 내용 변경
EXEC PRC_SO_UPDATE_EXAM('SO1046', '오라클 장점 기술');
--==>> ORA-20020: 시험 기간이 지난 후에는 변경이 불가합니다.
EXEC PRC_SO_UPDATE_EXAM('SO1047', '오라클 미래 기술');
--==>>
/*
SO1046	2021-04-16	S0001	CO0001	PF0001	2021-04-16	2021-04-16	P0001	B0001	오라클 문제점 기술	2021-04-16
SO1047	2021-04-16	S0001	CO0002	PF0001	2021-05-01	2021-05-05	P0001	B0001	오라클 미래 기술	2021-05-03
*/


-- 4.시작/종료 날짜 변경(과목개설 번호, 시작날짜, 종료날짜)
EXEC PRC_SO_UPDATE_DATE('SO1046', '2021-03-24', '2021-07-25', '2021-04-22');
--==>> ORA-20012: 개강한 과정은 수강신청/변경이 불가합니다.

EXEC PRC_SO_UPDATE_DATE('SO1047', '2021-03-24', '2021-07-25', '2021-04-22');
--==>> ORA-20019: 올바른 기간이 아닙니다

EXEC PRC_SO_UPDATE_DATE('SO1047', '2021-05-24', '2021-07-25', '2021-05-29');
--==>> 
/*
SO1046	2021-04-16	S0001	CO0001	PF0001	2021-04-16	2021-04-16	P0001	B0001	오라클 문제점 기술	2021-04-16
SO1047	2021-04-16	S0001	CO0002	PF0001	2021-05-24	2021-07-25	P0001	B0001	오라클 미래 기술	    2021-05-29
*/


-- 삭제 해보기

◆ 성적, 중도포기 데이터 입력
INSERT INTO GRADE VALUES('G0001', 20, 30 , 50, 'E0001', 'SO1047');
INSERT INTO DROP_OUT VALUES ('D0001', 'E0001' ,TO_DATE('2021-03-14', 'YYYY-MM-DD'), '포기');

DELETE
FROM SUBJECT_OPENED
WHERE SO_NUM = 'SO104';



----------------------------------------------------------------------------------




SELECT *
FROM ADMIN;


DELETE 
FROM ADMIN;


EXEC PRC_ADMIN_INSERT('YURIM', '9999');


SELECT *
FROM professor;

DELETE 
FROM PROFESSOR;


EXEC PRC_PROFESSOR_INSERT('이훈훈', '999999-1111111');
EXEC PRC_PROFESSOR_INSERT('박남현', '888888-2222222');
EXEC PRC_PROFESSOR_INSERT('이슬기', '777777-3333333');
EXEC PRC_PROFESSOR_INSERT('황나영', '666666-4444444');

SELECT *
FROM STUDENT;

DELETE
FROM STUDENT;

EXEC PRC_STUDENT_INSERT('이유유','999999-1111111');
EXEC PRC_STUDENT_INSERT('이상상','888888-2222222');
EXEC PRC_STUDENT_INSERT('박정정','777777-3333333');
EXEC PRC_STUDENT_INSERT('소서서','666666-4444444');
EXEC PRC_STUDENT_INSERT('박나나','555555-1111111');
EXEC PRC_STUDENT_INSERT('조조은','444444-2222222');
EXEC PRC_STUDENT_INSERT('한한혜','333333-1111111');


SELECT *
FROM POINTS;

DELETE
FROM POINTS;

EXEC PRC_PNT_INSERT(30,30,40);
EXEC PRC_PNT_INSERT(40,40,20);
EXEC PRC_PNT_INSERT(50,40,10);

SELECT *
FROM CLASSROOM;

DELETE
FROM CLASSROOM;

EXEC PRC_CLASSROOM_INSERT('A강의실');
EXEC PRC_CLASSROOM_INSERT('B강의실');
EXEC PRC_CLASSROOM_INSERT('C강의실');
EXEC PRC_CLASSROOM_INSERT('D강의실');
EXEC PRC_CLASSROOM_INSERT('E강의실');
EXEC PRC_CLASSROOM_INSERT('F강의실');
EXEC PRC_CLASSROOM_INSERT('G강의실');

SELECT *
FROM COURSE;

DELETE
FROM COURSE;

EXEC PRC_COURSE_INSERT('Java기반 개발자 양성 과정');
EXEC PRC_COURSE_INSERT('IOT기반 자동화 개발 과정');


SELECT *
FROM SUBJECT;

DELETE
FROM SUBJECT;

EXEC PRC_SUBJECT_INSERT('프런트엔드')
EXEC PRC_SUBJECT_INSERT('오라클')
EXEC PRC_SUBJECT_INSERT('UML')
EXEC PRC_SUBJECT_INSERT('JSP & Servlet')
EXEC PRC_SUBJECT_INSERT('HTML5 ')



EXEC PRC_SUBJECT_INSERT('사물 인터넷')
EXEC PRC_SUBJECT_INSERT('MySQL')
EXEC PRC_SUBJECT_INSERT('임베디드 리눅스')
EXEC PRC_SUBJECT_INSERT('전기이론')
EXEC PRC_SUBJECT_INSERT('PLC 프로그래밍')


SELECT *
FROM TEXTBOOK;

DELETE
FROM TEXTBOOL;

EXEC PRC_TEXTBOOK_INSERT('오라클로 배우는 데이터베이스 입문','빛날','이지훈');
EXEC PRC_TEXTBOOK_INSERT('UML로 배우는 시스템 분석 설계','빛날','최은만');
EXEC PRC_TEXTBOOK_INSERT('코드로 배우는 스프링 웹 프로젝트','우산','정동진');
EXEC PRC_TEXTBOOK_INSERT('HTML5 웹 프로그래밍 입문','우산','윤인성');
EXEC PRC_TEXTBOOK_INSERT('화면구현 모듈교재','새별','한국직업능력개발원');
EXEC PRC_TEXTBOOK_INSERT('Vue.js 철저 입문','신보','카타야마신야');


EXEC PRC_TEXTBOOK_INSERT('신용권의 Java 프로그래밍','빛날','신용권');
EXEC PRC_TEXTBOOK_INSERT('HMI 시스템 제어','빛날','이창민');
EXEC PRC_TEXTBOOK_INSERT('사물인터넷을 위한 리눅스 프로그래밍','우산','김용성');

SELECT *
FROM COURSE_OPENED;

DELETE
FROM COURSE_OPENED;

EXEC PRC_CO_INSERT('C0001',TO_DATE('2021-05-01','YYYY-MM-DD'),TO_DATE('2021-10-01','YYYY-MM-DD'),'R0001');
EXEC PRC_CO_INSERT('C0002',TO_DATE('2021-06-01','YYYY-MM-DD'),TO_DATE('2021-11-01','YYYY-MM-DD'),'R0002');
EXEC PRC_CO_INSERT('C0001',TO_DATE('2021-07-01','YYYY-MM-DD'),TO_DATE('2021-12-01','YYYY-MM-DD'),'R0003');
EXEC PRC_CO_INSERT('C0001',TO_DATE('2021-07-01','YYYY-MM-DD'),TO_DATE('2021-12-01','YYYY-MM-DD'),'R0003');



SELECT *
FROM SUBJECT_OPENED;



DELETE
FROM SUBJECT_OPENED;

--EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE,'S0001','CO0001','PF0001', SYSDATE,SYSDATE,'P0001','B0001','시험지는 첨부파일 확인요함',SYSDATE);
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE,'S0001','CO0001','PF0001', TO_DATE('2021-05-01','YYYY-MM-DD'),TO_DATE('2021-05-30','YYYY-MM-DD'),'P0001','B0001','시험.TXT',TO_DATE('2021-05-30','YYYY-MM-DD'));
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE,'S0002','CO0001','PF0001', TO_DATE('2021-06-01','YYYY-MM-DD'),TO_DATE('2021-06-30','YYYY-MM-DD'),'P0001','B0001','시험.PDF',TO_DATE('2021-06-30','YYYY-MM-DD'));
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE,'S0003','CO0001','PF0002', TO_DATE('2021-07-01','YYYY-MM-DD'),TO_DATE('2021-08-08','YYYY-MM-DD'),'P0001','B0001','시험.TXT',TO_DATE('2021-08-08','YYYY-MM-DD'));
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE,'S0004','CO0001','PF0002', TO_DATE('2021-08-09','YYYY-MM-DD'),TO_DATE('2021-10-01','YYYY-MM-DD'),'P0001','B0001','시험.TXT',TO_DATE('2021-10-01','YYYY-MM-DD'));


EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE,'S0002','CO0001','PF0003', TO_DATE('2021-05-30','YYYY-MM-DD'),TO_DATE('2021-06-02','YYYY-MM-DD'),'P0001','B0001','시험.TXT',TO_DATE('2021-06-30','YYYY-MM-DD'));
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE,'S0006','CO0002','PF0003', TO_DATE('2021-07-01','YYYY-MM-DD'),TO_DATE('2021-7-25','YYYY-MM-DD'),'P0001','B0001','시험.TXT',TO_DATE('2021-07-25','YYYY-MM-DD'));
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE,'S0007','CO0002','PF0004', TO_DATE('2021-07-26','YYYY-MM-DD'),TO_DATE('2021-8-30','YYYY-MM-DD'),'P0001','B0001','시험.TXT',TO_DATE('2021-08-30','YYYY-MM-DD'));
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE,'S0008','CO0002','PF0004', TO_DATE('2021-09-01','YYYY-MM-DD'),TO_DATE('2021-10-01','YYYY-MM-DD'),'P0001','B0001','시험.TXT',TO_DATE('2021-10-01','YYYY-MM-DD'));
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE,'S0009','CO0002','PF0004', TO_DATE('2021-10-02','YYYY-MM-DD'),TO_DATE('2021-11-01','YYYY-MM-DD'),'P0001','B0001','시험.TXT',TO_DATE('2021-11-01','YYYY-MM-DD'));


EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE,'S0009','CO0003','PF0001', TO_DATE('2021-07-01','YYYY-MM-DD'),TO_DATE('2021-07-30','YYYY-MM-DD'),'P0001','B0001','시험.TXT',TO_DATE('2021-07-30','YYYY-MM-DD'));
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE,'S00010','CO0003','PF0002', TO_DATE('2021-08-01','YYYY-MM-DD'),TO_DATE('2021-09-01','YYYY-MM-DD'),'P0001','B0001','시험.TXT',TO_DATE('2021-09-01','YYYY-MM-DD'));
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE,'S00011','CO0003','PF0003', TO_DATE('2021-09-02','YYYY-MM-DD'),TO_DATE('2021-10-01','YYYY-MM-DD'),'P0001','B0001','시험.TXT',TO_DATE('2021-10-01','YYYY-MM-DD'));
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE,'S00012','CO0003','PF0004', TO_DATE('2021-10-02','YYYY-MM-DD'),TO_DATE('2021-11-03','YYYY-MM-DD'),'P0001','B0001','시험.TXT',TO_DATE('2021-11-03','YYYY-MM-DD'));
EXEC PRC_SUBJECT_OPENED_INSERT(SYSDATE,'S00013','CO0003','PF0001', TO_DATE('2021-11-04','YYYY-MM-DD'),TO_DATE('2021-12-01','YYYY-MM-DD'),'P0001','B0001','시험.TXT',TO_DATE('2021-12-01','YYYY-MM-DD'));


SELECT *
FROM SUBJECT_OPENED;

SELECT *
FROM TEXTBOOK;

EXEC PRC_SO_UPDATE_SBJN('SO1079', 'S0001');
EXEC PRC_SO_UPDATE_CON('SO1079', 'CO0001');
EXEC PRC_SO_UPDATE_PFN('SO1079', 'PF0001');
EXEC PRC_SO_UPDATE_DATE('SO1079', '2021-04-02', '2021-05-02', '2021-04-06');
EXEC PRC_SO_UPDATE_POINT('SO1079', 'P0001');
EXEC PRC_SO_UPDATE_BOOK('SO1078', 'B0002');
EXEC PRC_SO_UPDATE_EXAM('SO1078', 'E0001');

SELECT *
FROM ENROLMENT;


DELETE
FROM ENROLMENT;


SELECT *
FROM COURSE;

DELETE 
FROM COURSE
WHERE COUR_NUM = 'C0004';
EXEC PRC_COURSE_UPDATE('C0001', 'DBA 양성과정');
EXEC PRC_COURSE_INSERT('매니저 양성과정');
EXEC PRC_ENROLMENT_INSERT('CO0001', 'ST0001');
EXEC PRC_ENROLMENT_INSERT('CO0001', 'ST0002');
EXEC PRC_ENROLMENT_INSERT('CO0001', 'ST0003');
EXEC PRC_ENROLMENT_INSERT('CO0002', 'ST0004');
EXEC PRC_ENROLMENT_INSERT('CO0002', 'ST0005');
EXEC PRC_ENROLMENT_INSERT('CO0003', 'ST0006');
EXEC PRC_ENROLMENT_INSERT('CO0003', 'ST0007');

/*
GR_NUM	GR_WRT	GR_PRAC	GR_ATTD	ROL_NUM	SO_NUM
G0001				E0001	SO1018
G0002				E0001	SO1015
G0003				E0001	SO1016
G0004				E0001	SO1017
G0005				E0002	SO1018
G0006				E0002	SO1015
G0007				E0002	SO1016
G0008				E0002	SO1017
G0009				E0003	SO1018
G0010				E0003	SO1015
G0011				E0003	SO1016
G0012				E0003	SO1017
G0013				E0004	SO1019
G0014				E0004	SO1020
G0015				E0004	SO1021
G0016				E0004	SO1022
G0017				E0004	SO1023
G0018				E0005	SO1019
G0019				E0005	SO1020
G0020				E0005	SO1021
G0021				E0005	SO1022
G0022				E0005	SO1023
G0023				E0006	SO1024
G0024				E0007	SO1024
*/
-- 마지막  E0006,E0007 의 경우 과정 3을 수강하므로 각각 과목 5개가 추가되어야 하는데 안돼있음.

SELECT *
FROM GRADE;

DELETE
FROM GRADE;



SELECT *
FROM DROP_OUT;

DELETE
FROM DROP_OUT;


SELECT *
FROM SUBJECT_OPENED;


